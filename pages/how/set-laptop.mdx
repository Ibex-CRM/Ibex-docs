# Setting up your Laptop

## Before we start

We will assume that you are using a MacOs powered computer and that you have a GitHub account (time to create one if you don‚Äôt). If you are not using MacOs, we have added links to the documentation necessary at the end of each section.

This guide is designed to be followed step by step and is better not to skip steps if you are setting a new computer from scratch.

If you spot any errors or out of date information, please inform the team.

## Command Line Tools

Open a new terminal, copy-paste the following command and hit¬†`Enter`:

```bash
xcode-select --install
```

If you receive the following message you can just skip the next steps

```bash
# command line tools are already installed, use "Software Update" to install updates
```

Otherwise, it will open a window asking you if you want to install some software: click on "Install" and wait:

![https://github.com/lewagon/setup/raw/master/images/macos_xcode_select_install.png](https://github.com/lewagon/setup/raw/master/images/macos_xcode_select_install.png)

‚úîÔ∏è¬†If you see the message "The software was installed" then all good¬†üëç

‚ùå¬†If the command¬†`xcode-select --install`¬†fails try again: sometimes the Apple servers are overloaded.

‚ùå¬†If you see the message "Xcode is not currently available from the Software Update server", you need to update the software update catalog:

```bash
sudo softwareupdate --clear-catalog
```

Once this is done, you can try to install again

## Homebrew

[Homebrew](http://brew.sh/)¬†is a package manager: it's a software used to install other software from the command line. Let's install it!

Open a terminal and run:

```bash
/bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
```

This will ask for your confirmation (hit¬†`Enter`) and your¬†**macOS user account password**¬†(the one you use to¬†[log in](https://support.apple.com/en-gb/HT202860)¬†when you reboot your Macbook).

‚ö†Ô∏è¬†When you type your password, nothing will show up on the screen,¬†**that's normal**. This is a security feature to mask not only your password as a whole but also its length. Just type your password and when you're done, press¬†`Enter`.

‚ö†Ô∏è¬†If you see this warning¬†üëá, run the two commands in the¬†`Next steps`¬†section to add Homebrew to your PATH:

![https://github.com/lewagon/setup/raw/master/images/macos_homebrew_warning.png](https://github.com/lewagon/setup/raw/master/images/macos_homebrew_warning.png)

```bash
# ‚ö†Ô∏è Only execute these commands if you saw this warning ‚òù
echo 'eval "$(/opt/homebrew/bin/brew shellenv)"' >> ~/.zprofile
eval "$(/opt/homebrew/bin/brew shellenv)"
```

If you already have Homebrew, it will tell you so, that's fine, go on.

Then install some useful software:

```
brew update
```

If you get a¬†`/usr/local must be writable`¬†error, just run this:

```bash
sudo chown -R $USER:admin /usr/local
brew update
```

Proceed running the following in the terminal to install some useful stuff:

```bash
brew upgrade git || brew install git
brew upgrade gh || brew install gh
brew upgrade wget || brew install wget
brew upgrade imagemagick || brew install imagemagick
brew upgrade jq || brew install jq
brew upgrade openssl || brew install openssl
brew upgrade gsl || brew install gsl
```

For more info on Homebrew or what you just installed:

[Homebrew](https://brew.sh/)

[Documentation](https://git-scm.com/doc)

[Manual](https://cli.github.com/manual/index)

[GNU Wget 1.21.1-dirty Manual](https://www.gnu.org/software/wget/manual/wget.html)

[/index.html](https://www.openssl.org/)

[ImageMagick](https://imagemagick.org/index.php)

## Visual Studio Code

Let's install¬†[Visual Studio Code](https://code.visualstudio.com/)¬†text editor.

```bash
brew install --cask visual-studio-code
```

Then launch VS Code by running the following command in your terminal:

```bash
code
```

For more info on VScode:

[Documentation for Visual Studio Code](https://code.visualstudio.com/docs)

### VScode Extensions

There is a few extensions that you will need to have installed to try and keep our code formatted and help us work together. Let's install some useful extensions to VS Code.

```bash
[code --install-extension aaron-bond.better-comments](https://marketplace.visualstudio.com/items?itemName=aaron-bond.better-comments)
[code --install-extension Gruntfuggly.todo-tree](https://marketplace.visualstudio.com/items?itemName=Gruntfuggly.todo-tree)
[code --install-extension MS-vsliveshare.vsliveshare](https://marketplace.visualstudio.com/items?itemName=MS-vsliveshare.vsliveshare)
[code --install-extension MS-vsliveshare.vsliveshare-pack](https://marketplace.visualstudio.com/items?itemName=MS-vsliveshare.vsliveshare-pack)
[code --install-extension dbaeumer.vscode-eslint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint)
[code --install-extension esbenp.prettier-vscode](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode)
[code --install-extension rebornix.ruby](https://marketplace.visualstudio.com/items?itemName=rebornix.Ruby)
```

The following are optional, you can test them and decided for yourself:

```bash
[code --install-extension burkeholland.simple-react-snippets](https://marketplace.visualstudio.com/items?itemName=burkeholland.simple-react-snippets)
[code --install-extension ms-vscode.sublime-keybindings](https://marketplace.visualstudio.com/items?itemName=ms-vscode.sublime-keybindings)
[code --install-extension emmanuelbeziat.vscode-great-icons](https://marketplace.visualstudio.com/items?itemName=emmanuelbeziat.vscode-great-icons)
[code --install-extension github.github-vscode-theme](https://marketplace.visualstudio.com/items?itemName=GitHub.github-vscode-theme)
[code --install-extension Rubymaniac.vscode-paste-and-indent](https://marketplace.visualstudio.com/items?itemName=Rubymaniac.vscode-paste-and-indent)
[code --install-extension johnpapa.vscode-peacock](https://marketplace.visualstudio.com/items?itemName=johnpapa.vscode-peacock)
```

For more information on any of the VScode extensions you just installed click on the names above to see more.

### Live Share Configuration

[Visual Studio Live Share](https://visualstudio.microsoft.com/services/live-share/)¬†is a VS Code extension which allows you to share the code in your text editor for debugging and pair-programming: let's set it up!

Launch VS Code from your terminal by typing¬†`code`¬†and pressing¬†`Enter`.

Click on the little arrow at the bottom of the left bar¬†üëá

![https://github.com/lewagon/setup/raw/master/images/vscode_live_share.png](https://github.com/lewagon/setup/raw/master/images/vscode_live_share.png)

- Click on the "Share" button, then on "GitHub (Sign in using GitHub account)".
- A popup appears asking you to sign in with GitHub: click on "Allow".
- You are redirected to a GitHub page in you browser asking you to authorize Visual Studio Code: click on "Continue" then "Authorize github".
- VS Code may display additional pop-ups: close them by clicking "OK".

That's it, you're good to go!

For more info on Live Share:

[GitHub - MicrosoftDocs/live-share: Real-time collaborative development from the comfort of your favorite tools](https://github.com/MicrosoftDocs/live-share)

### ESLint & Prettier Settings

This is the VScode configuration that the team follows:

ESLint settings

```json
{
  "parser": "babel-eslint",
  "extends": [
    "standard",
    "standard-react"
  ],
  "env": {
    "es6": true
  },
  "plugins": [
    "react"
  ],
  "parserOptions": {
    "sourceType": "module"
  },
  "rules": {
    // don't force es6 functions to include space before paren
    "space-before-function-paren": 0,
    // allow specifying true explicitly for boolean props
    "react/jsx-boolean-value": 0,
    "react/prop-types": 0
  }
}
```

Prettier settings

```json
{
  "semi": false,
  "trailingComma": "none",
  "printWidth": 120,
  "tabWidth": 2,
  "useTabs": false,
  "singleQuote": true,
  "jsxSingleQuote": true
}
```

## Oh-my-zsh

Let's install the¬†`zsh`¬†plugin¬†[Oh My Zsh](https://ohmyz.sh/).

In a terminal execute the following command:

```bash
sh -c "$(curl -fsSL https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh)"
```

If asked "Do you want to change your default shell to zsh?", press¬†`Y`

At the end your terminal should look like this:

![https://github.com/lewagon/setup/raw/master/images/oh_my_zsh.png](https://github.com/lewagon/setup/raw/master/images/oh_my_zsh.png)

For more info on Oh-my-zsh:

[Oh My Zsh - a delightful & open source framework for Zsh](https://ohmyz.sh/)

## GitHub CLI

CLI is the acronym of¬†[Command-line Interface](https://en.wikipedia.org/wiki/Command-line_interface).

In this section, we will use¬†[GitHub CLI](https://cli.github.com/)¬†to interact with GitHub directly from the terminal.

It should already be installed on your computer from the previous commands.

First in order to¬†**login**, copy-paste the following command in your terminal:

‚ö†Ô∏è¬†**DO NOT edit the¬†`email`**

```bash
gh auth login -s 'user:email' -w
```

gh will ask you few questions:

`What is your preferred protocol for Git operations?`¬†With the arrows, choose¬†`SSH`¬†and press¬†`Enter`. SSH is a protocol to log in using SSH keys instead of the well known username/password pair.

`Generate a new SSH key to add to your GitHub account?`¬†Press¬†`Enter`¬†to ask gh to generate the SSH keys for you.

If you already have SSH keys, you will see instead¬†`Upload your SSH public key to your GitHub account?`¬†With the arrows, select your public key file path and press¬†`Enter`.

`Enter a passphrase for your new SSH key (Optional)`. Type something you want and that you'll remember. It's a password to protect your private key stored on your hard drive. Then press¬†`Enter`.

‚ö†Ô∏è¬†When you type your passphrase, nothing will show up on the screen,¬†**that's normal**. This is a security feature to mask not only your passphrase as a whole but also its length. Just type your passphrase and when you're done, press¬†`Enter`.

You will then get the following output:

```bash
! First copy your one-time code: 0EF9-D015
- Press Enter to open github.com in your browser...
```

Select and copy the code (`0EF9-D015`¬†in the example), then press¬†`Enter`.

Your browser will open and ask you to authorize GitHub CLI to use your GitHub account. Accept and wait a bit.

Come back to the terminal, press¬†`Enter`¬†again, and that's it.

To check that you are properly connected, type:

```bash
gh auth status
```

‚úîÔ∏è¬†If you get¬†`Logged in to github.com as <YOUR USERNAME>`¬† then all good¬†üëç

For more info on gh:

[GitHub CLI](https://cli.github.com/)

## rbenv

Let's install¬†`[rbenv](https://github.com/sstephenson/rbenv)`, a software to install and manage¬†`ruby`¬†environments.

First, we need to clean up any previous Ruby installation you might have:

```bash
rvm implode && sudo rm -rf ~/.rvm
# If you got "zsh: command not found: rvm", carry on. It means `rvm` is not
# on your computer, that's what we want!

sudo rm -rf $HOME/.rbenv /usr/local/rbenv /opt/rbenv /usr/local/opt/rbenv
```

‚ö†Ô∏è¬†This command may prompt for your password.

‚ö†Ô∏è¬†When you type your password, nothing will show up on the screen,¬†**that's normal**. This is a security feature to mask not only your password as a whole but also its length. Just type your password and when you're done, press¬†`Enter`.

In the terminal, run:

```bash
brew uninstall --force rbenv ruby-build
exec zsh
```

Then run:

```bash
brew install rbenv
```

For more info on rbenv:

[GitHub - rbenv/rbenv: Manage your app's Ruby environment](https://github.com/rbenv/rbenv)

## Ruby

Now, you are ready to install the latest¬†[ruby](https://www.ruby-lang.org/en/)¬†version and set it as the default version.

Run this command, it will¬†**take a while (5-10 minutes)**

```bash
rbenv install 3.0.3
```

Once the ruby installation is done, run this command to tell the system to use the 3.1.2 version by default.

```bash
rbenv global 3.0.3
```

**Reset**¬†your terminal and check your Ruby version:

```bash
exec zsh
```

Then confirm the Ruby is install running:

```bash
ruby -v
```

For more info on Ruby:

[Ruby-Doc.org](https://ruby-doc.org/)

### Gems

In the ruby world, we call external libraries¬†`gems` they are pieces of ruby code that you can download and execute on your computer. Let's install some!

```bash
gem install colored http pry-byebug rake rails rest-client rspec rubocop-performance
```

‚úîÔ∏è¬†If you get¬†`xx gems installed`, then all good¬†üëç

‚ùå¬†If you encounter the following error:

```bash
ERROR: While executing gem ... (TypeError)
incompatible marshal file format (can't be read)
format version 4.8 required; 60.33 given
```

Run the following command:

```bash
rm -rf ~/.gemrc
```

Rerun the command to install the gems.

‚ö†Ô∏è¬†**NEVER**
¬†install a gem with¬†`sudo gem install`! Even if you stumble upon a Stackoverflow answer (or the terminal) telling you to do so.

For more info about Ruby Gems:

[What is a gem? - RubyGems Guides](https://guides.rubygems.org/what-is-a-gem/)

## Node.js

[Node.js](https://nodejs.org/en/)¬†is a JavaScript runtime to execute JavaScript code in the terminal. Let's install it with¬†[nvm](https://github.com/nvm-sh/nvm), a version manager for Node.js.

In a terminal, execute the following commands:

```bash
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | zsh
exec zsh
```

Then run the following command:

```bash
nvm -v
```

You should see a version. If not, ask a teacher.

Now let's install node:

```bash
nvm install 16.13.1
```

When the installation is finished, run:

```bash
node -v
```

If you see¬†`v16.15.1`, the installation succeeded¬†‚úîÔ∏è¬†You can then run:

```bash
nvm cache clear
```

For more info on Node.js:

[Documentation | Node.js](https://nodejs.org/en/docs/)

## yarn

`[yarn](https://yarnpkg.com/)`¬†is a package manager to install JavaScript libraries. Let's install it:

In a terminal, run the following commands:

```bash
npm install --global yarn
exec zsh
```

Then run the following command:

```bash
yarn -v
```

For more info on yarn:

[Home](https://yarnpkg.com/)

## ****PostgreSQL****

[PostgreSQL](https://www.postgresql.org/), an open-source robust and production-ready database system.

Let's install it now.

Run the following commands:

```bash
brew install postgresql
brew services start postgresql
```

Once you've done that, let's check that it worked:

```bash
psql -d postgres
```

You should you see a new prompt like this one üëá

```bash
psql (14.4)
Type "help" for help.

postgres=#
```

## Redis Server

Running Ibex locally requires you to run a Redis server. Let‚Äôs set it up.

First we need to install it:

```bash
brew install redis
```

Then we just run the server:

```bash
redis-server
```

For more info on Redis:

## Heroku

Ibex is hosted in Heroku, so you are going to need the Heroku CLI. Let‚Äôs install it:

```bash
brew tap heroku/brew && brew install heroku
```

To verify your CLI installation:

```bash
heroku --version
```

For more info on Heroku:

[Documentation](https://devcenter.heroku.com/categories/reference)

## Remotes

Once you have clone the Ibex repos there is a few things you will need to set up.

You will need to have at least two remotes, Staging & Production in both the Client side and the Server side.

To add a remote:

```bash
	heroku git:remote -a <heroku-project-name>
```

We recommend that you change the name of the remotes for something that you will remember:

```bash
git remote rename <old-name> <new-name>
```

For Example for our server side production remote:

```bash
heroku git:remote -a mountain-goat-server
git remote rename mountain-goat-server production
```

## DataBase

You will also need to pull the database to be able to run Ibex locally:

```bash
heroku pg:pull DATABASE_URL goat_server_development -r heroku
```
